<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotof√°cil Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Space Mono', monospace; }
        body { background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); min-height: 100vh; color: white; }
        h1, h2, h3 { font-family: 'Orbitron', sans-serif; font-weight: 700; }
        .glow { text-shadow: 0 0 10px rgba(16, 185, 129, 0.5); }
        .card { background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(30, 41, 59, 0.9) 100%); border: 1px solid rgba(16, 185, 129, 0.2); transition: all 0.3s; }
        .card:hover { border-color: rgba(16, 185, 129, 0.5); box-shadow: 0 0 30px rgba(16, 185, 129, 0.2); }
        .number-ball { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; background: linear-gradient(135deg, #10b981 0%, #059669 100%); box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); }
        .strategy-badge { padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; text-transform: uppercase; }
        .profit { color: #10b981; }
        .loss { color: #ef4444; }
        .best-strategy { animation: pulse 2s infinite; border: 3px solid #fbbf24 !important; box-shadow: 0 0 30px rgba(251, 191, 36, 0.6) !important; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
        button { transition: all 0.3s; cursor: pointer; border: none; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        input[type="number"] { -moz-appearance: textfield; }
        input[type="number"]::-webkit-outer-spin-button, input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:3000' : '';

        const STRATEGIES = {
            weighted: { name: 'Frequ√™ncia Ponderada', color: '#10b981', icon: 'üìä' },
            balanced: { name: 'Mix Equilibrado', color: '#3b82f6', icon: '‚öñÔ∏è' },
            moderate: { name: 'Evitar Extremos', color: '#8b5cf6', icon: 'üéØ' },
            distributed: { name: 'Distribui√ß√£o Uniforme', color: '#f59e0b', icon: 'üìê' },
            intelligent: { name: 'Inteligente', color: '#ec4899', icon: 'üß†' },
            random: { name: 'Aleat√≥rio Puro', color: '#6b7280', icon: 'üé≤' }
        };

        const LotofacilTracker = () => {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [bets, setBets] = useState([]);
            const [results, setResults] = useState([]);
            const [stats, setStats] = useState({});
            const [status, setStatus] = useState(null);
            const [loading, setLoading] = useState(true);
            const [betCost, setBetCost] = useState(3.50);
            const [investmentAmount, setInvestmentAmount] = useState('');
            const [quantities, setQuantities] = useState({
                weighted: 0, balanced: 0, moderate: 0, distributed: 0, intelligent: 0, random: 0
            });
            const [generating, setGenerating] = useState(false);

            const fetchData = async () => {
                try {
                    const [betsRes, resultsRes, statsRes, statusRes, pricingRes] = await Promise.all([
                        fetch(`${API_URL}/api/bets`),
                        fetch(`${API_URL}/api/results`),
                        fetch(`${API_URL}/api/stats`),
                        fetch(`${API_URL}/api/status`),
                        fetch(`${API_URL}/api/pricing`)
                    ]);
                    const [betsData, resultsData, statsData, statusData, pricingData] = await Promise.all([
                        betsRes.json(), resultsRes.json(), statsRes.json(), statusRes.json(), pricingRes.json()
                    ]);
                    setBets(betsData);
                    setResults(resultsData);
                    setStats(statsData);
                    setStatus(statusData);
                    setBetCost(pricingData.betCost);
                    setLoading(false);
                } catch (error) {
                    console.error('Error:', error);
                    setLoading(false);
                }
            };

            useEffect(() => {
                fetchData();
                const interval = setInterval(fetchData, 30000);
                return () => clearInterval(interval);
            }, []);

            // C√ÅLCULO CORRETO: R$ 35 √∑ 3.50 = 10 jogos
            const amount = parseFloat(investmentAmount) || 0;
            const maxBets = Math.floor(amount / betCost);
            const totalSelected = Object.values(quantities).reduce((sum, q) => sum + q, 0);
            const actualCost = totalSelected * betCost;
            const change = amount - actualCost;

            const getBestStrategy = () => {
                if (Object.keys(stats).length === 0) return null;
                return Object.entries(stats).sort((a, b) => b[1].netProfit - a[1].netProfit)[0]?.[0];
            };

            const setQuantity = (strategy, value) => {
                const newValue = Math.max(0, parseInt(value) || 0);
                const currentTotal = Object.entries(quantities).reduce((sum, [key, q]) => 
                    key === strategy ? sum : sum + q, 0
                );
                const availableSlots = maxBets - currentTotal;
                const finalValue = Math.min(newValue, availableSlots);
                setQuantities({ ...quantities, [strategy]: finalValue });
            };

            const distributeEvenly = () => {
                const perStrategy = Math.floor(maxBets / 6);
                setQuantities({
                    weighted: perStrategy, balanced: perStrategy, moderate: perStrategy,
                    distributed: perStrategy, intelligent: perStrategy, random: perStrategy
                });
            };

            const generateBets = async () => {
                if (totalSelected === 0) {
                    alert('‚ùå Selecione pelo menos 1 aposta!');
                    return;
                }
                setGenerating(true);
                try {
                    await fetch(`${API_URL}/api/generate-custom`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ distribution: quantities })
                    });
                    await fetchData();
                    alert(`‚úÖ ${totalSelected} apostas geradas!`);
                    setQuantities({
                        weighted: 0, balanced: 0, moderate: 0, distributed: 0, intelligent: 0, random: 0
                    });
                } catch (error) {
                    alert('‚ùå Erro ao gerar apostas');
                } finally {
                    setGenerating(false);
                }
            };

            const totalStats = {
                totalBets: Object.values(stats).reduce((sum, s) => sum + (s.totalBets || 0), 0),
                totalPrize: Object.values(stats).reduce((sum, s) => sum + (s.totalPrize || 0), 0),
                totalCost: Object.values(stats).reduce((sum, s) => sum + (s.totalCost || 0), 0),
                bestStrategy: getBestStrategy()
            };

            if (loading) {
                return (
                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh' }}>
                        <div className="animate-spin" style={{ width: '50px', height: '50px', border: '4px solid #10b981', borderTopColor: 'transparent', borderRadius: '50%' }}></div>
                    </div>
                );
            }

            return (
                <div style={{ minHeight: '100vh', padding: '2rem' }}>
                    <div style={{ position: 'fixed', bottom: '1rem', right: '1rem', zIndex: 40, background: 'rgba(30, 41, 59, 0.9)', backdropFilter: 'blur(8px)', border: '1px solid rgba(16, 185, 129, 0.3)', borderRadius: '0.5rem', padding: '0.75rem', fontSize: '0.75rem' }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                            <div style={{ width: '8px', height: '8px', borderRadius: '50%', background: '#10b981', animation: 'pulse 2s infinite' }} />
                            <span style={{ color: '#10b981', fontWeight: 'bold' }}>SISTEMA ATIVO 24/7</span>
                            {status && <span style={{ color: '#6b7280', marginLeft: '0.5rem' }}>| {status.pendingBets} pendentes</span>}
                        </div>
                    </div>

                    <div style={{ maxWidth: '1280px', margin: '0 auto' }}>
                        <div style={{ marginBottom: '2rem', textAlign: 'center' }}>
                            <h1 className="glow" style={{ fontSize: '3rem', fontWeight: 900, marginBottom: '0.5rem' }}>
                                <span style={{ color: '#10b981' }}>LOTO</span>F√ÅCIL TRACKER
                            </h1>
                            <p style={{ color: '#9ca3af', fontSize: '0.875rem', textTransform: 'uppercase' }}>
                                ü§ñ Sistema Autom√°tico 24/7
                            </p>
                        </div>

                        <div style={{ marginBottom: '1.5rem', display: 'flex', flexWrap: 'wrap', gap: '0.5rem', justifyContent: 'center' }}>
                            {[
                                { id: 'dashboard', label: 'üìä Dashboard' },
                                { id: 'generate', label: 'üé≤ Gerar' },
                                { id: 'bets', label: 'üìã Apostas' },
                                { id: 'history', label: 'üìÖ Hist√≥rico' }
                            ].map(({ id, label }) => (
                                <button key={id} onClick={() => setActiveTab(id)} style={{ padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: 'bold', fontSize: '0.875rem', background: activeTab === id ? '#10b981' : 'rgba(51, 65, 85, 0.5)', color: activeTab === id ? 'black' : 'white' }}>
                                    {label}
                                </button>
                            ))}
                        </div>

                        {activeTab === 'dashboard' && (
                            <div>
                                <div style={{ background: 'rgba(16, 185, 129, 0.1)', border: '1px solid rgba(16, 185, 129, 0.3)', borderRadius: '0.75rem', padding: '1rem', marginBottom: '1.5rem' }}>
                                    <div style={{ fontSize: '0.875rem', color: '#10b981', textAlign: 'center' }}>
                                        üí∞ <strong>Custo:</strong> R$ {betCost.toFixed(2)} | <strong>Investido:</strong> R$ {totalStats.totalCost.toFixed(2)} ({totalStats.totalBets} apostas)
                                    </div>
                                </div>

                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem', marginBottom: '1.5rem' }}>
                                    <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                        <div style={{ color: '#9ca3af', fontSize: '0.875rem', marginBottom: '0.5rem' }}>APOSTAS CONFERIDAS</div>
                                        <div style={{ fontSize: '1.875rem', fontWeight: 900, color: '#10b981' }}>{totalStats.totalBets}</div>
                                    </div>
                                    <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                        <div style={{ color: '#9ca3af', fontSize: '0.875rem', marginBottom: '0.5rem' }}>PR√äMIOS</div>
                                        <div style={{ fontSize: '1.875rem', fontWeight: 900, color: '#10b981' }}>R$ {totalStats.totalPrize.toFixed(2)}</div>
                                    </div>
                                    <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                        <div style={{ color: '#9ca3af', fontSize: '0.875rem', marginBottom: '0.5rem' }}>INVESTIDO</div>
                                        <div style={{ fontSize: '1.875rem', fontWeight: 900, color: '#f59e0b' }}>R$ {totalStats.totalCost.toFixed(2)}</div>
                                    </div>
                                    <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                        <div style={{ color: '#9ca3af', fontSize: '0.875rem', marginBottom: '0.5rem' }}>LUCRO/PREJU√çZO</div>
                                        <div className={totalStats.totalPrize - totalStats.totalCost >= 0 ? 'profit' : 'loss'} style={{ fontSize: '1.875rem', fontWeight: 900 }}>
                                            R$ {(totalStats.totalPrize - totalStats.totalCost).toFixed(2)}
                                        </div>
                                    </div>
                                </div>

                                <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem', marginBottom: '1.5rem' }}>
                                    <h2 style={{ fontSize: '1.5rem', fontWeight: 900, marginBottom: '1.5rem', color: '#10b981' }}>üìà RANKING</h2>
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                                        {Object.entries(stats).sort((a, b) => b[1].netProfit - a[1].netProfit).map(([key, stat], index) => (
                                            <div key={key} style={{ background: 'rgba(30, 41, 59, 0.5)', borderRadius: '0.5rem', padding: '1rem' }}>
                                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                                    <div>
                                                        <span style={{ fontSize: '1.5rem', marginRight: '0.75rem' }}>
                                                            {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `${index + 1}¬∫`}
                                                        </span>
                                                        <span style={{ fontSize: '1.5rem', marginRight: '0.5rem' }}>{STRATEGIES[key].icon}</span>
                                                        <span style={{ fontSize: '1.125rem', fontWeight: 'bold' }}>{STRATEGIES[key].name}</span>
                                                        <span style={{ color: '#9ca3af', fontSize: '0.875rem', marginLeft: '0.75rem' }}>{stat.totalBets} apostas</span>
                                                    </div>
                                                    <div style={{ textAlign: 'right' }}>
                                                        <div className={stat.netProfit >= 0 ? 'profit' : 'loss'} style={{ fontSize: '1.5rem', fontWeight: 900 }}>R$ {stat.netProfit.toFixed(2)}</div>
                                                        <div style={{ fontSize: '0.875rem', color: '#9ca3af' }}>ROI: {stat.roi}% | Avg: {stat.avgMatches}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {totalStats.bestStrategy && (
                                    <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem', background: 'linear-gradient(135deg, rgba(6, 78, 59, 0.3) 0%, rgba(5, 150, 105, 0.3) 100%)', borderColor: '#10b981', textAlign: 'center' }}>
                                        <h3 style={{ fontSize: '1.5rem', fontWeight: 900, marginBottom: '1rem', color: '#10b981' }}>üèÜ CAMPE√É</h3>
                                        <div style={{ fontSize: '2.5rem', fontWeight: 900, marginBottom: '0.5rem' }}>
                                            {STRATEGIES[totalStats.bestStrategy].icon} {STRATEGIES[totalStats.bestStrategy].name}
                                        </div>
                                        <div style={{ fontSize: '1.125rem', color: '#10b981', fontWeight: 'bold' }}>
                                            Lucro: R$ {stats[totalStats.bestStrategy].netProfit.toFixed(2)}
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {activeTab === 'generate' && (
                            <div>
                                <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem', marginBottom: '1.5rem' }}>
                                    <h2 style={{ fontSize: '1.5rem', fontWeight: 900, marginBottom: '1rem', color: '#10b981' }}>üé≤ GERAR APOSTAS</h2>
                                    
                                    <div style={{ background: 'rgba(16, 185, 129, 0.1)', borderRadius: '0.5rem', padding: '1rem', marginBottom: '1.5rem', border: '1px solid rgba(16, 185, 129, 0.3)' }}>
                                        <div style={{ fontSize: '0.875rem', color: '#10b981' }}>
                                            <strong>üí° Como funciona:</strong><br />
                                            1. Digite quanto quer investir<br />
                                            2. Escolha QUANTAS de CADA estrat√©gia<br />
                                            3. Clique em GERAR!<br />
                                            <strong>Custo:</strong> R$ {betCost.toFixed(2)}/aposta
                                        </div>
                                    </div>

                                    <div style={{ marginBottom: '1.5rem' }}>
                                        <label style={{ display: 'block', fontSize: '1rem', color: '#10b981', marginBottom: '0.5rem', fontWeight: 'bold' }}>
                                            üíµ Quanto quer investir?
                                        </label>
                                        <input type="number" value={investmentAmount} onChange={(e) => setInvestmentAmount(e.target.value)} placeholder="Ex: 35" min="0" step="0.50"
                                            style={{ width: '100%', background: '#1e293b', border: '2px solid #10b981', borderRadius: '0.5rem', padding: '1rem', color: 'white', fontSize: '1.5rem', fontWeight: 'bold', textAlign: 'center' }} />
                                    </div>

                                    {amount > 0 && (
                                        <div style={{ background: 'rgba(59, 130, 246, 0.1)', borderRadius: '0.75rem', padding: '1rem', marginBottom: '1.5rem', border: '2px solid #3b82f6' }}>
                                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', gap: '1rem', textAlign: 'center' }}>
                                                <div>
                                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af', textTransform: 'uppercase' }}>M√°ximo</div>
                                                    <div style={{ fontSize: '2rem', fontWeight: 900, color: '#3b82f6' }}>{maxBets}</div>
                                                </div>
                                                <div>
                                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af', textTransform: 'uppercase' }}>Selecionadas</div>
                                                    <div style={{ fontSize: '2rem', fontWeight: 900, color: totalSelected > maxBets ? '#ef4444' : '#10b981' }}>{totalSelected}</div>
                                                </div>
                                                <div>
                                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af', textTransform: 'uppercase' }}>Custo</div>
                                                    <div style={{ fontSize: '2rem', fontWeight: 900, color: '#10b981' }}>R$ {actualCost.toFixed(2)}</div>
                                                </div>
                                                <div>
                                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af', textTransform: 'uppercase' }}>Troco</div>
                                                    <div style={{ fontSize: '2rem', fontWeight: 900, color: change >= 0 ? '#fbbf24' : '#ef4444' }}>R$ {change.toFixed(2)}</div>
                                                </div>
                                            </div>
                                        </div>
                                    )}

                                    {amount > 0 && maxBets > 0 && (
                                        <>
                                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>
                                                <h3 style={{ fontSize: '1.125rem', fontWeight: 'bold', color: '#10b981' }}>üéØ Distribua suas {maxBets} apostas</h3>
                                                <button onClick={distributeEvenly} style={{ padding: '0.5rem 1rem', background: '#3b82f6', color: 'white', borderRadius: '0.5rem', fontSize: '0.875rem', fontWeight: 'bold' }}>
                                                    Distribuir Igual
                                                </button>
                                            </div>

                                            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem', marginBottom: '1.5rem' }}>
                                                {Object.entries(STRATEGIES).map(([key, strategy]) => {
                                                    const stratStats = stats[key] || { netProfit: 0, roi: '0.00', avgMatches: '0.00', totalBets: 0 };
                                                    const isBest = getBestStrategy() === key;
                                                    
                                                    return (
                                                        <div key={key} className={isBest ? 'best-strategy' : ''} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '1rem', background: 'rgba(30, 41, 59, 0.5)', borderRadius: '0.75rem', border: `2px solid ${quantities[key] > 0 ? '#10b981' : 'transparent'}` }}>
                                                            <div style={{ flex: 1 }}>
                                                                <div style={{ display: 'flex', alignItems: 'center', marginBottom: '0.25rem' }}>
                                                                    <span style={{ fontSize: '1.5rem', marginRight: '0.5rem' }}>{strategy.icon}</span>
                                                                    <span style={{ fontSize: '1rem', fontWeight: 'bold' }}>{strategy.name}</span>
                                                                    {isBest && <span style={{ marginLeft: '0.5rem', padding: '0.25rem 0.75rem', background: '#fbbf24', color: 'black', borderRadius: '0.5rem', fontSize: '0.75rem', fontWeight: 'bold' }}>üèÜ</span>}
                                                                </div>
                                                                {stratStats.totalBets > 0 && (
                                                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>
                                                                        üí∞ R$ {stratStats.netProfit.toFixed(2)} | ROI: {stratStats.roi}%
                                                                    </div>
                                                                )}
                                                            </div>
                                                            
                                                            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                                                                <input type="number" value={quantities[key]} onChange={(e) => setQuantity(key, e.target.value)} min="0" max={maxBets}
                                                                    style={{ width: '80px', background: '#1e293b', border: '2px solid #10b981', borderRadius: '0.5rem', padding: '0.5rem', color: 'white', fontSize: '1.25rem', fontWeight: 'bold', textAlign: 'center' }} />
                                                                <div style={{ fontSize: '0.875rem', color: '#9ca3af', minWidth: '80px' }}>
                                                                    = R$ {(quantities[key] * betCost).toFixed(2)}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>

                                            <button onClick={generateBets} disabled={generating || totalSelected === 0 || totalSelected > maxBets}
                                                style={{ width: '100%', background: generating || totalSelected === 0 || totalSelected > maxBets ? '#6b7280' : 'linear-gradient(135deg, #10b981 0%, #059669 100%)', color: 'white', fontWeight: 'bold', padding: '1.5rem', borderRadius: '0.75rem', fontSize: '1.5rem' }}>
                                                {generating ? '‚è≥ GERANDO...' : 
                                                 totalSelected === 0 ? '‚ö†Ô∏è SELECIONE PELO MENOS 1' :
                                                 totalSelected > maxBets ? `‚ö†Ô∏è LIMITE: ${maxBets}` :
                                                 `üé≤ GERAR ${totalSelected} APOSTA${totalSelected > 1 ? 'S' : ''} (R$ ${actualCost.toFixed(2)})`}
                                            </button>
                                        </>
                                    )}

                                    {amount === 0 && (
                                        <div style={{ textAlign: 'center', padding: '3rem', color: '#9ca3af' }}>
                                            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üíµ</div>
                                            <p>Digite quanto quer investir</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}

                        {activeTab === 'bets' && (
                            <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                <h2 style={{ fontSize: '1.5rem', fontWeight: 900, marginBottom: '1.5rem', color: '#10b981' }}>üé≤ APOSTAS RECENTES</h2>
                                <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                                    {bets.slice(0, 50).map(bet => (
                                        <div key={bet.id} style={{ background: 'rgba(30, 41, 59, 0.5)', borderRadius: '0.5rem', padding: '1rem' }}>
                                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem' }}>
                                                <div>
                                                    <span className="strategy-badge" style={{ backgroundColor: STRATEGIES[bet.strategy].color }}>
                                                        {STRATEGIES[bet.strategy].icon} {STRATEGIES[bet.strategy].name}
                                                    </span>
                                                    <span style={{ marginLeft: '1rem', color: '#9ca3af', fontSize: '0.875rem' }}>
                                                        {new Date(bet.date).toLocaleDateString('pt-BR')}
                                                    </span>
                                                </div>
                                                {bet.result_numbers && (
                                                    <div>
                                                        <span style={{ color: '#10b981', fontWeight: 'bold', marginRight: '0.75rem' }}>{bet.matches} acertos</span>
                                                        {bet.prize > 0 && <span style={{ color: '#fbbf24', fontWeight: 'bold' }}>R$ {parseFloat(bet.prize).toFixed(2)}</span>}
                                                    </div>
                                                )}
                                                {!bet.result_numbers && <span style={{ color: '#fbbf24', fontSize: '0.875rem' }}>‚è≥ Pendente</span>}
                                            </div>
                                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                                                {bet.numbers.map(num => (
                                                    <div key={num} className="number-ball">{num.toString().padStart(2, '0')}</div>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {activeTab === 'history' && (
                            <div className="card" style={{ borderRadius: '0.75rem', padding: '1.5rem' }}>
                                <h2 style={{ fontSize: '1.5rem', fontWeight: 900, marginBottom: '1.5rem', color: '#10b981' }}>üìÖ HIST√ìRICO</h2>
                                <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
                                    {results.map(result => {
                                        const resultBets = bets.filter(b => b.contest_number === result.contest_number);
                                        return (
                                            <div key={result.id} style={{ background: 'rgba(30, 41, 59, 0.5)', borderRadius: '0.5rem', padding: '1.5rem' }}>
                                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>
                                                    <div>
                                                        <h3 style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>üìÖ {new Date(result.date).toLocaleDateString('pt-BR')}</h3>
                                                        <div style={{ fontSize: '0.875rem', color: '#9ca3af' }}>Concurso: {result.contest_number} | {result.bets_checked} apostas</div>
                                                    </div>
                                                    <div style={{ textAlign: 'right' }}>
                                                        <div style={{ fontSize: '0.875rem', color: '#9ca3af' }}>Pr√™mio Total</div>
                                                        <div style={{ fontSize: '1.5rem', fontWeight: 900, color: '#10b981' }}>R$ {parseFloat(result.total_prize).toFixed(2)}</div>
                                                    </div>
                                                </div>

                                                <div style={{ marginBottom: '1rem' }}>
                                                    <div style={{ fontSize: '0.875rem', color: '#9ca3af', marginBottom: '0.5rem' }}>N√∫meros Sorteados</div>
                                                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>
                                                        {result.numbers.map(num => (
                                                            <div key={num} className="number-ball" style={{ background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' }}>
                                                                {num.toString().padStart(2, '0')}
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>

                                                {resultBets.length > 0 && (
                                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>
                                                        {resultBets.map(bet => (
                                                            <div key={bet.id} style={{ background: 'rgba(51, 65, 85, 0.5)', borderRadius: '0.25rem', padding: '0.75rem' }}>
                                                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                                                    <span className="strategy-badge" style={{ backgroundColor: STRATEGIES[bet.strategy].color }}>
                                                                        {STRATEGIES[bet.strategy].icon} {STRATEGIES[bet.strategy].name}
                                                                    </span>
                                                                    <div>
                                                                        <span style={{ color: '#10b981', fontWeight: 'bold', marginRight: '0.75rem' }}>{bet.matches} acertos</span>
                                                                        {bet.prize > 0 && <span style={{ color: '#fbbf24', fontWeight: 'bold' }}>R$ {parseFloat(bet.prize).toFixed(2)}</span>}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>
                                        );
                                    })}

                                    {results.length === 0 && (
                                        <div style={{ textAlign: 'center', color: '#9ca3af', padding: '3rem' }}>
                                            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>üìÖ</div>
                                            <p>Aguardando resultados...</p>
                                            <p style={{ fontSize: '0.875rem', marginTop: '0.5rem' }}>Sistema confere a cada 1 hora</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<LotofacilTracker />, document.getElementById('root'));
    </script>
</body>
</html>
